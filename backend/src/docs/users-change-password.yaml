paths:
  /api/users/change-password:
    put:
      summary: Change user password
      tags: [Users]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - currentPassword
                - newPassword
              properties:
                currentPassword:
                  type: string
                  minLength: 6
                  example: "oldpassword123"
                  description: "Current user password for verification"
                newPassword:
                  type: string
                  minLength: 6
                  example: "newpassword456"
                  description: "New password (must be different from current)"
      responses:
        200:
          description: Password successfully changed
          content:
            application/json:
              schema:
                type: object
                properties:
                  ok:
                    type: boolean
                    example: true
                  message:
                    type: string
                    example: "Password changed successfully"
                  userId:
                    type: integer
                    example: 1
        400:
          description: Validation error or business logic error
          content:
            application/json:
              schema:
                type: object
                properties:
                  ok:
                    type: boolean
                    example: false
                  error:
                    type: string
                    oneOf:
                      - example: "Current password is incorrect"
                      - example: "New password must be different from current password"
                      - example: "newPassword is required"
        401:
          description: Unauthorized - token missing or invalid
          content:
            application/json:
              schema:
                type: object
                properties:
                  ok:
                    type: boolean
                    example: false
                  error:
                    type: string
                    example: "Authorization header missing"